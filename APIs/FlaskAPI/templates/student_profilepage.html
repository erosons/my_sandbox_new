{% extends 'base.html' %}

{% block title %}
Courses Visualization
{% endblock %}

{% block ul %}
<a class="nav-link" href="{{ url_for('logout') }}">Logout</a>
{% endblock %}

 <!--Modal form for prerequisiste-->
{% include 'prerequisite_modal.html' %}

{% block content %}

<div class="container-fluid">
    <div class="row">
        <section class="col-md-4">

            <!-- Card -->
            <div class="card border border-dark">
                <div class="card-body" style="background-color: #414040; height: 50px; font-family: 'Times New Roman', Times, serif;" >
                    <h5 class="card-title text-light" style="font-size: 17px;">CareerPath Total Course Units  :  {{ tota_course_unit }}</h5>
                </div>
            </div>

            <!-- Container for Canvas and Toggle Button -->
            <br>
            <button type="button" class="btn btn-primary col-6 mx-auto course-tracker-button" data-bs-toggle="collapse"
                data-bs-target="#course-dropdown" aria-expanded="false" aria-controls="course-dropdown">
                Courses Tracker
            </button>
            <div class="collapse" id="course-dropdown">
                <form id="course-selection-form">
                    <div class="container">
                        <br>
                        <!-- Add the search bar -->
                        <div class="row mb-3">
                            <div class="col-md-6 search-bar">
                                <input type="text" class="form-control search-input" id="course-search" placeholder="Search for a course">
                                <i class="fas fa-search search-icon"></i>
                            </div>
                        </div>
                        <!-- Loop through courses with search functionality -->
                        {% for course in list_of_courses %}
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="course1"
                                        id="course{{ loop.index }}" value="{{ course.name }}">
                                    <label class="form-check-label course-label" for="course{{ loop.index }}" style="font-size: 10px;">
                                        {{ course.name }}
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-check form-check-inline">
                                    <label class="form-check-label" for="grade{{ loop.index }}" style="font-size: 10px;">Grade</label>
                                    <select class="form-select" id="grade{{ loop.index }}" name="grade{{ loop.index }}">
                                        <option value=" "></option>
                                        <option value="A">A</option>
                                        <option value="B">B</option>
                                        <option value="C">C</option>
                                        <option value="D">D</option>
                                        <option value="F">F</option>
                                    </select>
                                    <!-- Add spacing between the button and the dropdown -->
                                    <div class="ms-2"></div>
                                    <button type="button" class="btn btn-sm btn-primary ms-2 update-btn" 
                                    data-course-id="course{{ loop.index }}" data-grade-id="grade{{ loop.index }}">Update</button>
                                </div>
                            </div>
                        </div>

                        {% endfor %}
                        <br>
                    </div>
                </form>
            </div>
            <br>
            <br>
            <!--<h4 class="display-6">Prerequisites</h4> -->
            <button type="button" class=" btn btn-primary  col-6 .mx-auto  course-tracker-button"
                id="show-prequisite-btn">Prerequisites</button>
            <div id="preq-dropdown-canvas" class="hidden">
                <div class="container-fluid">
                    <div class="container">
                        <br>
                        <h7 class="display-6">First Semester</h7>
                        <table class="table table-striped table-bordered"
                            style="width: 80%; font-size: 9px;color: aliceblue;">
                            <colgroup>
                                <col style="width: 25%;">
                                <col style="width: 2%;">
                                <col style="width: 3%;">
                                <col style="width: 28%;">
                            </colgroup>
                            <thead class="table-dark">
                                <tr>
                                    <th scope="col">Name</th>
                                    <th scope="col">Unit</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in first_semester_prequisiste %}
                                <tr>
                                    <td>{{ item.prequisite_name }}</td>
                                    <td>{{ item.pre_unit }}</td>
                                    <td>{{ item.Prequisiste_status }}</td>
                                    <td>
                                        <button class=" btn btn-primary btn-sm request-waiver-btn"
                                            style="font-size: 7px; padding: 3px 10px;">Request Waiver</button>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>

                </div>
                <div class="container-fluid">
                    <div class="container">

                        <h7 class="display-6">Second Semester</h7>
                        <table class="table table-striped table-bordered"
                            style="width: 80%; font-size: 9px;color: aliceblue;">
                            <colgroup>
                                <col style="width: 25%;">
                                <col style="width: 2%;">
                                <col style="width: 3%;">
                                <col style="width: 28%;">
                            </colgroup>
                            <thead class="table-dark">
                                <tr>
                                    <th scope="col">Name</th>
                                    <th scope="col">Unit</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in second_semester_prequisiste%}
                                <tr>
                                    <td>{{ item.prequisite_name }}</td>
                                    <td>{{ item.pre_unit }}</td>
                                    <td>{{ item.Prequisiste_status }}</td>
                                    <td>
                                        <button class="btn btn-primary btn-sm request-waiver-btn"
                                            style="font-size: 7px; padding: 3px 10px;">Request Waiver</button>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>

                </div>
                <div class="container-fluid">
                    <div class="container">

                        <h7 class="display-6">Third Semester</h7>
                        <table class="table table-striped table-bordered"
                            style="width: 80%; font-size: 9px;color: aliceblue;">
                            <colgroup>
                                <col style="width: 25%;">
                                <col style="width: 2%;">
                                <col style="width: 3%;">
                                <col style="width: 28%;">
                            </colgroup>
                            <thead class="table-dark">
                                <tr>
                                    <th scope="col">Name</th>
                                    <th scope="col">Unit</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in items %}
                                <tr>
                                    <td>{{ item.prequisite_name }}</td>
                                    <td>{{ item.pre_unit }}</td>
                                    <td>{{ item.Prequisiste_status }}</td>
                                    <td>
                                        <button class="btn btn-primary btn-sm request-waiver-btn"
                                            style="font-size: 7px; padding: 3px 10px;">Request Waiver</button>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>

                </div>
                <div class="container-fluid">
                    <div class="container">

                        <h7 class="display-6">Fouth Semester</h7>
                        <table class="table table-striped table-bordered"
                            style="width: 80%; font-size: 9px;color: aliceblue;">
                            <colgroup>
                                <col style="width: 25%;">
                                <col style="width: 2%;">
                                <col style="width: 3%;">
                                <col style="width: 28%;">

                            </colgroup>
                            <thead class="table-dark">
                                <tr>
                                    <th scope="col">Name</th>
                                    <th scope="col">Unit</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in items %}
                                <tr>
                                    <td>{{ item.prequisite_name }}</td>
                                    <td>{{ item.pre_unit }}</td>
                                    <td>{{ item.Prequisiste_status }}</td>
                                    <td>
                                        <button class="btn btn-primary btn-sm request-waiver-btn"
                                            style="font-size: 7px; padding: 3px 10px;">Request Waiver</button>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <!-- Repeated sections for other semesters -->
                </div>
                <div class="container-fluid">
                    <div class="container">

                        <h7 class="display-6"> Fifth Semester</h7>
                        <table class="table table-striped table-bordered"
                            style="width: 80%; font-size: 9px;color: aliceblue;">
                            <colgroup>
                                <col style="width: 25%;">
                                <col style="width: 2%;">
                                <col style="width: 3%;">
                                <col style="width: 28%;">
                            </colgroup>
                            <thead class="table-dark">
                                <tr>
                                    <th scope="col">Name</th>
                                    <th scope="col">Unit</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in items %}
                                <tr>
                                    <td>{{ item.prequisite_name }}</td>
                                    <td>{{ item.pre_unit }}</td>
                                    <td>{{ item.Prequisiste_status }}</td>
                                    <td>
                                        <button class="btn btn-primary btn-sm request-waiver-btn"
                                            style="font-size: 7px; padding: 3px 10px;">Request Waiver</button>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <!-- Repeated sections for other semesters -->
                </div>
                <div class="container-fluid">
                    <div class="container">

                        <h7 class="display-6">Six Semester</h7>
                        <table class="table table-striped table-bordered"
                            style="width: 80%; font-size: 9px;color: aliceblue;">
                            <colgroup>
                                <col style="width: 25%;">
                                <col style="width: 2%;">
                                <col style="width: 3%;">
                                <col style="width: 28%;">
                            </colgroup>
                            <thead class="table-dark">
                                <tr>
                                    <th scope="col">Name</th>
                                    <th scope="col">Unit</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in items %}
                                <tr>
                                    <td>{{ item.prequisite_name }}</td>
                                    <td>{{ item.pre_unit }}</td>
                                    <td>{{ item.Prequisiste_status }}</td>
                                    <td>
                                        <button class="btn btn-primary btn-sm request-waiver-btn" style="font-size: 9px;">Request
                                            Waiver</button>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <!-- Repeated sections for other semesters -->
                </div>
                <div class="container-fluid">
                    <div class="container">

                        <h7 class="display-6">Seventh Semester</h7>
                        <table class="table table-striped table-bordered"
                            style="width: 80%; font-size: 9px;color: aliceblue;">
                            <colgroup>
                                <col style="width: 25%;">
                                <col style="width: 2%;">
                                <col style="width: 3%;">
                                <col style="width: 28%;">
                            </colgroup>
                            <thead class="table-dark">
                                <tr>
                                    <th scope="col">Name</th>
                                    <th scope="col">Unit</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in items %}
                                <tr>
                                    <td>{{ item.prequisite_name }}</td>
                                    <td>{{ item.pre_unit }}</td>
                                    <td>{{ item.Prequisiste_status }}</td>
                                    <td>
                                    <button class="btn btn-primary btn-sm request-waiver-btn" style="font-size: 9px;">Request Waiver</button>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <!-- Repeated sections for other semesters -->
                </div>
                <div class="container-fluid">
                    <div class="container">

                        <h7 class="display-6">Eight Semester</h7>
                        <table class="table table-striped table-bordered"
                            style="width: 80%; font-size: 9px;color: aliceblue;">
                            <colgroup>
                                <col style="width: 25%;">
                                <col style="width: 2%;">
                                <col style="width: 3%;">
                                <col style="width: 28%;">
                            </colgroup>
                            <thead class="table-dark">
                                <tr>
                                    <th scope="col">Name</th>
                                    <th scope="col">Unit</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in items %}
                                <tr>
                                    <td>{{ item.prequisite_name }}</td>
                                    <td>{{ item.pre_unit }}</td>
                                    <td>{{ item.Prequisiste_status }}</td>
                                    <td>
                                        <button class="btn btn-primary btn-sm request-waiver-btn"
                                            style="font-size: 7px; padding: 3px 10px;">Request Waiver</button>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <!-- Repeated sections for other semesters -->
                </div>
            </div>
        </section>
        <main class="col-md-8">
            <br>
            <h6 class="text-center"
                style="font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif">
                The view is based on {{selected_category}} major and {{selected_subcategory}} careerPath
                <br>
                <p> The graph below indicates Courses by semester and the course unit</p>
            </h6>
            <br>
            <!-- Embed the interactive SVG graph directly into the HTML -->
            <div class="container text-center shadow-sm">
                {{ graph_html | safe }}
            </div>
            <br><br>
            <div class="container text-center shadow-sm">
                {{ graph_html2| safe }}
            </div>
            <br><br>
            <div class="container text-center shadow-sm">
                {{ graph_html3| safe }}
            </div>
            <br><br>
            <div class="container text-center shadow-sm">
                {{ graph_html4| safe }}
            </div>
            <br><br>
            <div class="container text-center shadow-sm">
                {{ graph_html5| safe }}
            </div>
            <br><br>
            <div class="container text-center shadow-sm">
                {{ graph_html6| safe }}
            </div>
            <br><br>
            <div class="container text-center shadow-sm">
                {{ graph_html7| safe }}
            </div>
            <br><br>
            <div class="container text-center shadow-sm">
                {{ graph_html8| safe }}
            </div>
        </main>

    </div>
</div>


<!-- Bootstrap JavaScript and jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="static/js/course-toggle-btn.js"></script>
<script src="static/js/prequisite-btn.js"></script>
<script src="static/js/course_search_for_update.js"></script>
<script src="static/js/course_grade_catcher_4_node_update.js"></script>
<script src="static/js/prequisite_waiver_request1.js"></script>
<script src="static/js/prequisite_waiver_request2.js"></script>
<script src="static/js/request-waiver-status_color.js"></script>

{% endblock %}